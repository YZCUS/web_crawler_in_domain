<svg viewBox="0 0 1400 900" xmlns="http://www.w3.org/2000/svg">
  <!-- Background Gradient -->
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f0f4f8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d9e2ec;stop-opacity:1" />
    </linearGradient>
    
    <!-- Shadow filter -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.2"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Arrow marker -->
    <marker id="arrow" markerWidth="12" markerHeight="10" refX="11" refY="5" orient="auto" markerUnits="strokeWidth">
      <path d="M0,1 L0,9 L9,5 z" fill="#627d98"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="900" fill="url(#bgGradient)"/>
  
  <!-- Title -->
  <text x="700" y="45" font-family="Segoe UI, Arial, sans-serif" font-size="28" font-weight="600" text-anchor="middle" fill="#102a43">
    Multi-threaded BFS Web Crawler Architecture
  </text>
  <text x="700" y="70" font-family="Segoe UI, Arial, sans-serif" font-size="14" text-anchor="middle" fill="#627d98">
    High-performance crawler with domain diversity prioritization
  </text>
  
  <!-- Input Layer -->
  <g id="input-layer">
    <!-- Seed URLs -->
    <rect x="60" y="120" width="200" height="70" rx="8" fill="#4299e1" filter="url(#shadow)"/>
    <text x="160" y="150" font-family="Segoe UI, Arial" font-size="16" font-weight="600" text-anchor="middle" fill="white">Seed URLs</text>
    <text x="160" y="170" font-family="Segoe UI, Arial" font-size="12" text-anchor="middle" fill="#bee3f8">crawl_list*.txt</text>
    
    <!-- Configuration -->
    <rect x="60" y="210" width="200" height="70" rx="8" fill="#48bb78" filter="url(#shadow)"/>
    <text x="160" y="240" font-family="Segoe UI, Arial" font-size="16" font-weight="600" text-anchor="middle" fill="white">Configuration</text>
    <text x="160" y="260" font-family="Segoe UI, Arial" font-size="12" text-anchor="middle" fill="#c6f6d5">crawler_config.json</text>
  </g>
  
  <!-- Core Crawler Component -->
  <g id="core-crawler">
    <rect x="320" y="120" width="340" height="520" rx="12" fill="white" stroke="#cbd5e0" stroke-width="2" filter="url(#shadow)"/>
    <text x="490" y="150" font-family="Segoe UI, Arial" font-size="20" font-weight="600" text-anchor="middle" fill="#102a43">webcrawler_BFS</text>
    
    <!-- Priority Queue -->
    <rect x="340" y="170" width="300" height="60" rx="6" fill="#ed8936" stroke="#dd6b20" stroke-width="1"/>
    <text x="490" y="195" font-family="Segoe UI, Arial" font-size="14" font-weight="500" text-anchor="middle" fill="white">Priority Queue</text>
    <text x="490" y="215" font-family="Segoe UI, Arial" font-size="11" text-anchor="middle" fill="#feebc8">domain diversity + depth scoring</text>
    
    <!-- Data Structures Row -->
    <g id="data-structures">
      <!-- Visited Set -->
      <rect x="340" y="245" width="140" height="50" rx="6" fill="#38b2ac" stroke="#319795" stroke-width="1"/>
      <text x="410" y="265" font-family="Segoe UI, Arial" font-size="13" font-weight="500" text-anchor="middle" fill="white">Visited Set</text>
      <text x="410" y="282" font-family="Segoe UI, Arial" font-size="10" text-anchor="middle" fill="#e6fffa">Post-redirect URLs</text>
      
      <!-- Bloom Filter -->
      <rect x="500" y="245" width="140" height="50" rx="6" fill="#38b2ac" stroke="#319795" stroke-width="1"/>
      <text x="570" y="265" font-family="Segoe UI, Arial" font-size="13" font-weight="500" text-anchor="middle" fill="white">Bloom Filter</text>
      <text x="570" y="282" font-family="Segoe UI, Arial" font-size="10" text-anchor="middle" fill="#e6fffa">Scalable dedup</text>
    </g>
    
    <!-- ThreadPoolExecutor -->
    <rect x="340" y="310" width="300" height="70" rx="6" fill="#805ad5" stroke="#6b46c1" stroke-width="1"/>
    <text x="490" y="335" font-family="Segoe UI, Arial" font-size="14" font-weight="500" text-anchor="middle" fill="white">ThreadPoolExecutor</text>
    <text x="490" y="355" font-family="Segoe UI, Arial" font-size="11" text-anchor="middle" fill="#e9d8fd">Concurrent workers: 8</text>
    <text x="490" y="370" font-family="Segoe UI, Arial" font-size="10" text-anchor="middle" fill="#e9d8fd">I/O-bound optimization</text>
    
    <!-- Rate Limiter -->
    <rect x="340" y="395" width="300" height="60" rx="6" fill="#d69e2e" stroke="#b7791f" stroke-width="1"/>
    <text x="490" y="418" font-family="Segoe UI, Arial" font-size="14" font-weight="500" text-anchor="middle" fill="white">Token Bucket Rate Limiter</text>
    <text x="490" y="438" font-family="Segoe UI, Arial" font-size="11" text-anchor="middle" fill="#fefcbf">Per-host politeness control</text>
    
    <!-- Processing Components -->
    <g id="processing">
      <!-- URL Normalizer -->
      <rect x="340" y="470" width="140" height="50" rx="6" fill="#319795" stroke="#2c7a7b" stroke-width="1"/>
      <text x="410" y="490" font-family="Segoe UI, Arial" font-size="13" font-weight="500" text-anchor="middle" fill="white">URL Normalizer</text>
      <text x="410" y="507" font-family="Segoe UI, Arial" font-size="10" text-anchor="middle" fill="#e6fffa">Canonicalization</text>
      
      <!-- HTML Parser -->
      <rect x="500" y="470" width="140" height="50" rx="6" fill="#319795" stroke="#2c7a7b" stroke-width="1"/>
      <text x="570" y="490" font-family="Segoe UI, Arial" font-size="13" font-weight="500" text-anchor="middle" fill="white">HTML Parser</text>
      <text x="570" y="507" font-family="Segoe UI, Arial" font-size="10" text-anchor="middle" fill="#e6fffa">BeautifulSoup</text>
    </g>
    
    <!-- Domain Statistics -->
    <rect x="340" y="535" width="300" height="55" rx="6" fill="#4a5568" stroke="#2d3748" stroke-width="1"/>
    <text x="490" y="555" font-family="Segoe UI, Arial" font-size="13" font-weight="500" text-anchor="middle" fill="white">Domain Statistics</text>
    <text x="490" y="575" font-family="Segoe UI, Arial" font-size="10" text-anchor="middle" fill="#cbd5e0">Level-2 &amp; All-domain frequency tracking</text>
    
    <!-- Thread-safe note -->
    <rect x="340" y="600" width="300" height="25" rx="4" fill="#fef5e7" stroke="#f4d03f" stroke-width="1"/>
    <text x="490" y="617" font-family="Segoe UI, Arial" font-size="11" font-weight="500" text-anchor="middle" fill="#7d6608">🔒 Thread-safe with 9 fine-grained locks</text>
  </g>
  
  <!-- External Services -->
  <g id="external-services">
    <!-- Robots Cache -->
    <rect x="720" y="180" width="200" height="90" rx="8" fill="#065f46" filter="url(#shadow)"/>
    <text x="820" y="210" font-family="Segoe UI, Arial" font-size="15" font-weight="600" text-anchor="middle" fill="white">robots_cache</text>
    <text x="820" y="235" font-family="Segoe UI, Arial" font-size="11" text-anchor="middle" fill="#a7f3d0">• TTL: 3600 seconds</text>
    <text x="820" y="252" font-family="Segoe UI, Arial" font-size="11" text-anchor="middle" fill="#a7f3d0">• Crawl-delay respect</text>
    
    <!-- Redirect Handler -->
    <rect x="720" y="290" width="200" height="70" rx="8" fill="#065f46" filter="url(#shadow)"/>
    <text x="820" y="318" font-family="Segoe UI, Arial" font-size="15" font-weight="600" text-anchor="middle" fill="white">Redirect_Handler</text>
    <text x="820" y="340" font-family="Segoe UI, Arial" font-size="11" text-anchor="middle" fill="#a7f3d0">Max: 10 redirects</text>
  </g>
  
  <!-- Target Websites -->
  <g id="targets">
    <rect x="980" y="180" width="180" height="180" rx="8" fill="#f0fdf4" stroke="#10b981" stroke-width="2" filter="url(#shadow)"/>
    <text x="1070" y="210" font-family="Segoe UI, Arial" font-size="16" font-weight="600" text-anchor="middle" fill="#065f46">.nz Domains</text>
    <line x1="1000" y1="220" x2="1140" y2="220" stroke="#10b981" stroke-width="1"/>
    <text x="1070" y="245" font-family="Segoe UI, Arial" font-size="12" text-anchor="middle" fill="#047857">• example.nz</text>
    <text x="1070" y="265" font-family="Segoe UI, Arial" font-size="12" text-anchor="middle" fill="#047857">• website.co.nz</text>
    <text x="1070" y="285" font-family="Segoe UI, Arial" font-size="12" text-anchor="middle" fill="#047857">• university.ac.nz</text>
    <text x="1070" y="305" font-family="Segoe UI, Arial" font-size="12" text-anchor="middle" fill="#047857">• government.govt.nz</text>
    <text x="1070" y="340" font-family="Segoe UI, Arial" font-size="10" font-style="italic" text-anchor="middle" fill="#059669">✓ robots.txt compliant</text>
  </g>
  
  <!-- Output Components -->
  <g id="output">
    <!-- Log Output -->
    <rect x="720" y="450" width="200" height="90" rx="8" fill="#e53e3e" filter="url(#shadow)"/>
    <text x="820" y="480" font-family="Segoe UI, Arial" font-size="15" font-weight="600" text-anchor="middle" fill="white">Log Output</text>
    <text x="820" y="505" font-family="Segoe UI, Arial" font-size="11" text-anchor="middle" fill="#fed7d7">• Timestamp, Depth</text>
    <text x="820" y="522" font-family="Segoe UI, Arial" font-size="11" text-anchor="middle" fill="#fed7d7">• Status, Size, URL</text>
    
    <!-- Crawled Results -->
    <rect x="980" y="450" width="180" height="90" rx="8" fill="#e53e3e" filter="url(#shadow)"/>
    <text x="1070" y="480" font-family="Segoe UI, Arial" font-size="15" font-weight="600" text-anchor="middle" fill="white">Crawled URLs</text>
    <text x="1070" y="505" font-family="Segoe UI, Arial" font-size="11" text-anchor="middle" fill="#fed7d7">Max: 200 pages</text>
    <text x="1070" y="522" font-family="Segoe UI, Arial" font-size="11" text-anchor="middle" fill="#fed7d7">Max depth: 100</text>
  </g>
  
  <!-- Flow Arrows -->
  <g id="arrows" stroke="#627d98" stroke-width="2" fill="none" marker-end="url(#arrow)" opacity="0.8">
    <!-- Input to Core -->
    <path d="M 260 155 L 320 175"/>
    <path d="M 260 245 L 320 245"/>
    
    <!-- Core to External -->
    <path d="M 660 225 L 720 225"/>
    <path d="M 660 325 L 720 325"/>
    
    <!-- External to Targets -->
    <path d="M 920 225 L 980 250"/>
    <path d="M 920 325 L 980 290"/>
    
    <!-- Core to Output (Fixed paths to avoid overlap) -->
    <path d="M 660 490 L 720 495"/>
    <path d="M 660 520 Q 690 520 690 570 Q 690 580 700 580 L 950 580 Q 960 580 960 520 L 980 495"/>
  </g>
  
  <!-- Key Metrics Box -->
  <g id="metrics">
    <rect x="60" y="680" width="1280" height="180" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)"/>
    <text x="700" y="715" font-family="Segoe UI, Arial" font-size="18" font-weight="600" text-anchor="middle" fill="#1a202c">Performance Metrics &amp; Key Features</text>
    
    <!-- Features Column 1 -->
    <text x="120" y="750" font-family="Segoe UI, Arial" font-size="13" fill="#4a5568">🎯 BFS with Priority Queue</text>
    <text x="140" y="770" font-family="Segoe UI, Arial" font-size="11" fill="#718096">Domain diversity optimization</text>
    <text x="120" y="800" font-family="Segoe UI, Arial" font-size="13" fill="#4a5568">⚡ Multi-threaded Architecture</text>
    <text x="140" y="820" font-family="Segoe UI, Arial" font-size="11" fill="#718096">8 concurrent workers</text>
    
    <!-- Features Column 2 -->
    <text x="450" y="750" font-family="Segoe UI, Arial" font-size="13" fill="#4a5568">🔍 Scalable Bloom Filter</text>
    <text x="470" y="770" font-family="Segoe UI, Arial" font-size="11" fill="#718096">Memory-efficient deduplication</text>
    <text x="450" y="800" font-family="Segoe UI, Arial" font-size="13" fill="#4a5568">🚦 Token Bucket Rate Limiting</text>
    <text x="470" y="820" font-family="Segoe UI, Arial" font-size="11" fill="#718096">Per-host politeness</text>
    
    <!-- Features Column 3 -->
    <text x="780" y="750" font-family="Segoe UI, Arial" font-size="13" fill="#4a5568">🤖 Robots.txt Compliance</text>
    <text x="800" y="770" font-family="Segoe UI, Arial" font-size="11" fill="#718096">Cached with TTL</text>
    <text x="780" y="800" font-family="Segoe UI, Arial" font-size="13" fill="#4a5568">🔒 Thread-safe Design</text>
    <text x="800" y="820" font-family="Segoe UI, Arial" font-size="11" fill="#718096">Fine-grained locking</text>
    
    <!-- Performance Stats -->
    <rect x="1080" y="735" width="220" height="100" rx="8" fill="#edf2f7"/>
    <text x="1190" y="760" font-family="Segoe UI, Arial" font-size="12" font-weight="600" text-anchor="middle" fill="#2d3748">Performance</text>
    <text x="1100" y="785" font-family="Segoe UI, Arial" font-size="11" fill="#4a5568">• Throughput: ~50 pages/sec</text>
    <text x="1100" y="805" font-family="Segoe UI, Arial" font-size="11" fill="#4a5568">• Memory: &lt;100MB (100K URLs)</text>
    <text x="1100" y="825" font-family="Segoe UI, Arial" font-size="11" fill="#4a5568">• Success rate: &gt;95%</text>
  </g>
</svg>